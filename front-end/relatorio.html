<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Juris Pro - Relatórios</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome para ícones -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <style>
        body {
            background-color: #292d31;
            color: #212529;
            margin: 0; /* Remove a margem padrão do body */
        }

        .navbar {
            background-color: #343a40; /* Cor do fundo da navbar */
            height: 100vh; /* Altura total da viewport */
            position: fixed; /* Fixa a navbar à esquerda */
            top: 0;
            left: 0;
            width: 200px; /* Largura da navbar */
            padding-top: 20px; /* Espaçamento superior */
            z-index: 1000; /* Garante que a navbar fique acima de outros elementos */
            transition: transform 0.3s ease; /* Transição suave */
        }

        .navbar.hidden {
            transform: translateX(-100%); /* Oculta a navbar */
        }

        .navbar-nav {
            flex-direction: column; /* Alinha os itens verticalmente */
        }

        .nav-link {
            color: white; /* Cor do texto dos links */
            text-align: left; /* Alinha o texto à esquerda */
            padding: 10px 25px; /* Espaçamento para os links */
            display: flex; /* Permite usar flexbox */
            align-items: center; /* Alinha ícones e texto verticalmente */
        }

        .nav-link i {
            margin-right: 10px; /* Espaçamento entre ícone e texto */
        }

        .nav-link:hover {
            background-color: rgba(255, 255, 255, 0.1); /* Efeito de hover */
            border-radius: 7px;
        }

        /* Botão de fechar a navbar */
        #closeNavbar {
            position: absolute;
            top: 20px;
            left: 20px;
            background-color: transparent;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
        }

        /* Área de interação para abrir a navbar */
        .open-navbar-area {
            position: fixed;
            left: 0;
            top: 0;
            bottom: 0;
            width: 20px; /* Largura da área de ativação */
            z-index: 1001; /* Acima da navbar */
        }

        /* Estilo da tabela de processos */
        .table {
            background-color: #343a40;
            border-radius: 10px;
            padding: 20px;
            width: 100%;
            max-width: 800px;
            margin: 20px auto;
        }

        th, td {
            color: white;
        }

    </style>
</head>
<body>
    <!-- Área para ativar a abertura da navbar -->
    <div class="open-navbar-area" id="openNavbarArea"></div>

    <!-- Navbar Lateral -->
    <nav class="navbar navbar-dark" id="navbar">
        <button id="closeNavbar"><i class="fas fa-times"></i></button>
        <div class="navbar-nav">
            <a class="nav-link" href="home.html"><i class="fas fa-home"></i> Início</a>
            <a class="nav-link" href="processos.html"><i class="fas fa-gavel"></i> Processos</a>
            <a class="nav-link" href="#"><i class="fas fa-user"></i> Clientes</a>
            <a class="nav-link" href="relatorio.html"><i class="fas fa-chart-bar"></i> Relatórios</a>
            <a class="nav-link" href="#"><i class="fas fa-cog"></i> Configurações</a>
        </div>
    </nav>

    <!-- Conteúdo Principal -->
    <div class="content">
        <h2>Relatório de Processos</h2>

        <table class="table table-dark table-striped">
            <thead>
                <tr>
                    <th>Nome</th>
                    <th>Descrição</th>
                    <th>Data de Início</th>
                    <th>Data de Fim</th>
                    <th>Região</th>
                </tr>
            </thead>
            <tbody id="processosTable">
                <!-- Processos serão inseridos aqui -->
            </tbody>
        </table>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Mostrar/ocultar a navbar
        const navbar = document.getElementById('navbar');
        const closeNavbarBtn = document.getElementById('closeNavbar');
        const openNavbarArea = document.getElementById('openNavbarArea');
        let navbarOpen = false; // Estado da navbar
        let initialMouseX = 0; // Posição inicial do mouse

        openNavbarArea.addEventListener('mouseenter', () => {
            if (!navbarOpen) {
                navbar.classList.remove('hidden');
                navbarOpen = true;
                initialMouseX = event.clientX; // Captura a posição inicial do mouse
            }
        });

        closeNavbarBtn.addEventListener('click', () => {
            navbar.classList.add('hidden');
            navbarOpen = false;
        });

        openNavbarArea.addEventListener('mouseleave', (event) => {
            const distance = event.clientX - initialMouseX;
            if (navbarOpen && distance < -100) { // Se o mouse sair para a esquerda mais do que 100px
                navbar.classList.add('hidden');
                navbarOpen = false;
            }
        });

        // Recupera a lista de processos do Local Storage
        const processos = JSON.parse(localStorage.getItem('processos')) || [];

        // Seleciona o corpo da tabela onde os processos serão exibidos
        const processosTable = document.getElementById('processosTable');

        // Função para exibir os processos na tabela
        function exibirProcessos() {
            processos.forEach(processo => {
                const row = document.createElement('tr');

                row.innerHTML = `
                    <td>${processo.nome}</td>
                    <td>${processo.descricao}</td>
                    <td>${processo.dataInicio}</td>
                    <td>${processo.dataFim}</td>
                    <td>${processo.regiao}</td>
                `;

                processosTable.appendChild(row);
            });
        }

        // Chama a função para exibir os processos
        exibirProcessos();
    </script>
</body>
</html>
